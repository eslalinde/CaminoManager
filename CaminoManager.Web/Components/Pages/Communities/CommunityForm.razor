@using CaminoManager.ServiceDefaults.DTOs
@inject ILogger<CommunityForm> Logger

<EditForm Model="Community" OnValidSubmit="OnValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <MudGrid>
        <MudItem xs="12" sm="7">
            <MudCard>
                <MudCardContent>
                    <MudTextField @bind-Value="Community.Number" 
                                Label="Number" 
                                Required="true" />
                                
                     <MudDatePicker @bind-Value="Community.BornDate"
                                Label="Born Date"
                                Required="true" />
                                
                    <MudNumericField @bind-Value="Community.BornBrothers"
                                  Label="Born Brothers"
                                  Required="true" />
                                  
                    <MudNumericField @bind-Value="Community.ActualBrothers"
                                  Label="Actual Brothers"
                                  Required="true" />
                                  
                    <MudDatePicker @bind-Date="Community.StepWayDate"
                                Label="Step Way Date" />
                                
                    <MudTextField @bind-Value="Community.OldCatechist"
                                Label="Old Catechist" />
                    
                    @* Add Parish and StepWay selectors here *@
                    
                </MudCardContent>
                <MudCardActions>
                    <MudButton ButtonType="ButtonType.Submit" 
                              Color="Color.Primary" 
                              Variant="Variant.Filled">@ButtonText</MudButton>
                    <MudButton OnClick="OnCancel" 
                              Color="Color.Secondary" 
                              Variant="Variant.Filled">Cancel</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
    </MudGrid>
</EditForm>

@code {
    [Parameter] public CreateCommunityDto Community { get; set; } = new();
    [Parameter] public string ButtonText { get; set; } = "Save";
    [Parameter] public EventCallback OnValidSubmit { get; set; }
    [Parameter] public EventCallback OnCancel { get; set; }
}
